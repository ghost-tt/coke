let products = {
    "products": [
        {
            "icon": "/assets/images/svg/coke_product.svg",
            "volume_name": "2 Ltr",
            "volume": 2,
            "name": "coke",
            "items": [
                {
                    "sku": "CCPPID5",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": false,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 2
                },
                {
                    "sku": "CCPPID6",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 1
                },
                {
                    "sku": "CCPPID7",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 1
                },
                {
                    "sku": "CCPPID8",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 2
                }
            ]
        },
        {
            "icon": "/assets/images/svg/fanta_xl.svg",
            "volume_name": "1 Ltr",
            "volume": 1,
            "name": "fanta",
            "items": [
                {
                    "sku": "CCPPID9",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID10",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID11",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 1
                },
                {
                    "sku": "CCPPID12",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 1
                }
            ]
        },
        {
            "icon": "/assets/images/svg/sprite_product.svg",
            "volume_name": "250 Ml",
            "volume": 0.250,
            "name": "sprite",
            "items": [
                {
                    "sku": "CCPPID13",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 2
                },
                {
                    "sku": "CCPPID14",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID15",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 2
                },
                {
                    "sku": "CCPPID16",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 1
                }
            ]
        }
    ]
}

let productsArray = products.products;

function groupBy(objectArray, property) {
    return objectArray.reduce(function (acc, obj) {
        let key = obj[property]
        if (!acc[key]) {
            acc[key] = []
        }
        acc[key].push(obj)
        return acc
    }, {})
}

let groupByBrand = [];
let groupByVolume = [];

for (let i = 0; i < productsArray.length; i++) {
    groupByBrand.push(groupBy(productsArray[i].items, 'volume'));
}

let sorted = {};

for (let i = 0; i < groupByBrand.length; i++) {
    for (let key in groupByBrand[i]) {
        if (sorted[key]) {
            sorted[key] = [...sorted[key], ...groupByBrand[i][key]];
        } else {
            sorted[key] = [...groupByBrand[i][key]];
        }
    }
}

for (let i = 0; i < productsArray.length; i++) {
    productsArray[i].items = sorted[productsArray[i].volume];
}



/* 
let products = {
    "products": [
        {
            "icon": "/assets/images/svg/coke_product.svg",
            "volume_name": "2 Ltr",
            "volume": 2,
            "name": "coke",
            "items": [
                {
                    "sku": "CCPPID5",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": false,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 2
                },
                {
                    "sku": "CCPPID6",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 1
                },
                {
                    "sku": "CCPPID7",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 1
                },
                {
                    "sku": "CCPPID8",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 2
                }
            ]
        },
        {
            "icon": "/assets/images/svg/fanta_xl.svg",
            "volume_name": "1 Ltr",
            "volume": 1,
            "name": "fanta",
            "items": [
                {
                    "sku": "CCPPID9",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID10",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID11",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 1
                },
                {
                    "sku": "CCPPID12",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "fanta",
                    "volume": 1
                }
            ]
        },
        {
            "icon": "/assets/images/svg/sprite_product.svg",
            "volume_name": "250 Ml",
            "volume": 0.250,
            "name": "sprite",
            "items": [
                {
                    "sku": "CCPPID13",
                    "keywords": "",
                    "name": "Sprite",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/sprite_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 2
                },
                {
                    "sku": "CCPPID14",
                    "keywords": "",
                    "name": "Coca-Cola",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 0.250
                },
                {
                    "sku": "CCPPID15",
                    "keywords": "",
                    "name": "Fanta",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/fanta_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "sprite",
                    "volume": 2
                },
                {
                    "sku": "CCPPID16",
                    "keywords": "",
                    "name": "Coke zero",
                    "description": "7.5 fl oz, 10 pack",
                    "price": "14.95",
                    "itemspercase": 12,
                    "costprice": "16.95",
                    "icon": "/assets/images/svg/coke_zero_xl.svg",
                    "quantity_available": true,
                    "discount": "",
                    "discount_detail": "5 case offer on 1L/500ML",
                    "discount_description": "Kinley 5 case sit amet, consectetur amet consectetur",
                    "brand": "coke",
                    "volume": 1
                }
            ]
        }
    ]
}

let productsArray = products.products;

function groupBy(objectArray, property) {
    return objectArray.reduce(function (acc, obj) {
        let key = obj[property]
        if (!acc[key]) {
            acc[key] = []
        }
        acc[key].push(obj)
        return acc
    }, {})
}

let groupByBrand = [];
let groupByVolume = [];

for (let i = 0; i < productsArray.length; i++) {
    groupByBrand.push(groupBy(productsArray[i].items, 'volume'));
}

let sorted = {};

for (let i = 0; i < groupByBrand.length; i++) {
    for (let key in groupByBrand[i]) {
        if (sorted[key]) {
            sorted[key] = [...sorted[key], ...groupByBrand[i][key]];
        } else {
            sorted[key] = [...groupByBrand[i][key]];
        }
    }
}

for (let i = 0; i < productsArray.length; i++) {
	productsArray[i].items = sorted[productsArray[i].volume];
}

console.log(productsArray)

const test = ["a", "b", "c"];

const random = Math.floor(Math.random() * test.length);
console.log(random, test[random]);

*/